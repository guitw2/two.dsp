<html>
<head>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
<script src="./lib/gpu.js"></script>  
<script>
$(document).ready(function(){
	var coeficients = new Float32Array([-4.61221813409777e-07,-3.64700036646293e-07,-5.86018381358106e-07,-8.83837671258784e-07,-1.27144219510340e-06,-1.76207594777872e-06,-2.36838674226705e-06,-3.10176667051084e-06,-3.97159119894647e-06,-4.98436287284348e-06,-6.14276967159529e-06,-7.44467243345447e-06,-8.88204036355284e-06,-1.04398583466168e-05,-1.20950344825225e-05,-1.38153408111398e-05,-1.55584244430049e-05,-1.72709301051700e-05,-1.88877782822445e-05,-2.03316455144564e-05,-2.15126948434034e-05,-2.23286047152337e-05,-2.26649437158585e-05,-2.23959361965040e-05,-2.13856600461725e-05,-1.94897125038024e-05,-1.65573729329209e-05,-1.24342828979679e-05,-6.96565371732195e-06,2.90510579063578e-20,8.60661537667441e-06,1.89858536532914e-05,3.12519340018792e-05,4.54960888232423e-05,6.17807170069518e-05,8.01333281392789e-05,0.000100540386855004,0.000122941182035277,0.000147221859925730,0.000173209773044306,0.000200668307521005,0.000229292359823256,0.000258704639250128,0.000288452974734682,0.000318008803025633,0.000346767009928412,0.000374047286735914,0.000399097150107954,0.000421096755385477,0.000439165610660744,0.000452371271974843,0.000459740068986824,0.000460269875666469,0.000452944902421480,0.000436752445098166,0.000410701483109365,0.000373842974252016,0.000325291648369356,0.000264249056748890,0.000190027589943309,0.000102075134513563,-2.72490215764211e-19,-0.000116404287789644,-0.000247134761363565,-0.000391955812600425,-0.000550377496556929,-0.000721635824479785,-0.000904675534450830,-0.00109813582132228,-0.00130033949166174,-0.00150928598406428,-0.00172264866031244,-0.00193777672856664,-0.00215170210632835,-0.00236115146880895,-0.00256256365822339,-0.00275211255226110,-0.00292573540659972,-0.00307916659801957,-0.00320797660279821,-0.00330761595109749,-0.00337346380358864,-0.00340088070326541,-0.00338526496499103,-0.00332211207955560,-0.00320707642961284,-0.00303603454350207,-0.00280514905124045,-0.00251093245637810,-0.00215030979927871,-0.00172067926287830,-0.00121996976203360,-0.000646694562916047,8.52635256252286e-19,0.000720291604772966,0.00151364566318813,0.00237878645649018,0.00331367637667902,0.00431550386739363,0.00538068054879504,0.00650484789012477,0.00768289366348807,0.00890897827483502,0.0101765709252102,0.0114784954093798,0.0128069852123024,0.0141537474190173,0.0155100348128573,0.0168667254028646,0.0182144084962895,0.0195434763183103,0.0208442200807393,0.0221069293163548,0.0233219932272867,0.0244800027459678,0.0255718519766262,0.0265888376749057,0.0275227554333770,0.0283659912715117,0.0291116073798512,0.0297534208389613,0.0302860742233365,0.0307050971073831,0.0310069576133335,0.0311891032775162,0.0312499906596634,0.0311891032775162,0.0310069576133335,0.0307050971073831,0.0302860742233365,0.0297534208389613,0.0291116073798512,0.0283659912715117,0.0275227554333770,0.0265888376749057,0.0255718519766262,0.0244800027459678,0.0233219932272867,0.0221069293163548,0.0208442200807393,0.0195434763183103,0.0182144084962895,0.0168667254028646,0.0155100348128573,0.0141537474190173,0.0128069852123024,0.0114784954093798,0.0101765709252102,0.00890897827483502,0.00768289366348807,0.00650484789012477,0.00538068054879504,0.00431550386739363,0.00331367637667902,0.00237878645649018,0.00151364566318813,0.000720291604772966,8.52635256252286e-19,-0.000646694562916047,-0.00121996976203360,-0.00172067926287830,-0.00215030979927871,-0.00251093245637810,-0.00280514905124045,-0.00303603454350207,-0.00320707642961284,-0.00332211207955560,-0.00338526496499103,-0.00340088070326541,-0.00337346380358864,-0.00330761595109749,-0.00320797660279821,-0.00307916659801957,-0.00292573540659972,-0.00275211255226110,-0.00256256365822339,-0.00236115146880895,-0.00215170210632835,-0.00193777672856664,-0.00172264866031244,-0.00150928598406428,-0.00130033949166174,-0.00109813582132228,-0.000904675534450830,-0.000721635824479785,-0.000550377496556929,-0.000391955812600425,-0.000247134761363565,-0.000116404287789644,-2.72490215764211e-19,0.000102075134513563,0.000190027589943309,0.000264249056748890,0.000325291648369356,0.000373842974252016,0.000410701483109365,0.000436752445098166,0.000452944902421480,0.000460269875666469,0.000459740068986824,0.000452371271974843,0.000439165610660744,0.000421096755385477,0.000399097150107954,0.000374047286735914,0.000346767009928412,0.000318008803025633,0.000288452974734682,0.000258704639250128,0.000229292359823256,0.000200668307521005,0.000173209773044306,0.000147221859925730,0.000122941182035277,0.000100540386855004,8.01333281392789e-05,6.17807170069518e-05,4.54960888232423e-05,3.12519340018792e-05,1.89858536532914e-05,8.60661537667441e-06,2.90510579063578e-20,-6.96565371732195e-06,-1.24342828979679e-05,-1.65573729329209e-05,-1.94897125038024e-05,-2.13856600461725e-05,-2.23959361965040e-05,-2.26649437158585e-05,-2.23286047152337e-05,-2.15126948434034e-05,-2.03316455144564e-05,-1.88877782822445e-05,-1.72709301051700e-05,-1.55584244430049e-05,-1.38153408111398e-05,-1.20950344825225e-05,-1.04398583466168e-05,-8.88204036355284e-06,-7.44467243345447e-06,-6.14276967159529e-06,-4.98436287284348e-06,-3.97159119894647e-06,-3.10176667051084e-06,-2.36838674226705e-06,-1.76207594777872e-06,-1.27144219510340e-06,-8.83837671258784e-07,-5.86018381358106e-07,-3.64700036646293e-07,-4.61221813409777e-07]);

	var gpu = new GPU();
	var fator =1;

	var loopMaxIterations = coeficients.length+1;
	var mat_mult = gpu.createKernel(function(A, B, S) {
	    var sum = 0;
	    for (var i=0; i<S; i++) {
	        sum += A[this.thread.x][i] * B;
	    }
	    return sum;
	},options={loopMaxIterations}).dimensions([1]);
	
	var C = mat_mult(coeficients, fator, coeficients.length);
	var sum = 0 ;
	for( var i=0;i<coeficients.length;i++){
		sum += coeficients[i]*fator;
	}
	document.write("CPU:"+sum+"<br/>"+"GPU:"+C);
});
</script>
</head>
<body>
</body>
</html>